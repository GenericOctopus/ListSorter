import{a as ee,b as te}from"./chunk-XHSR2Z2V.js";import{H as j,I as q,J as D,M as U,N as H,V as G,W as Z,Z as J,_ as K,aa as Q,b as L,ba as X,c as T,d as W,e as k,f as A,g as N,k as z,ka as Y,l as B,la as $}from"./chunk-J3WYVLZQ.js";import{Ba as w,Da as C,Ha as g,Ia as t,Ja as i,Ka as b,Nb as O,Pa as P,Q as d,R as p,Ra as S,Sa as x,Wb as E,Xb as V,Zb as F,_b as I,ab as v,eb as r,fb as R,ha as s,ib as c,jb as u,kb as f,la as M,pa as y}from"./chunk-E3AQNGOK.js";import{f as _}from"./chunk-EQDQRRRY.js";function ne(o,a){if(o&1&&(t(0,"div",8),r(1),i()),o&2){let m=x();s(),R(m.error)}}function re(o,a){o&1&&b(0,"mat-spinner",10)}function oe(o,a){o&1&&r(0," Register ")}var ie=class o{constructor(a,m){this.authService=a;this.router=m}username="";password="";confirmPassword="";loading=!1;error="";onSubmit(){return _(this,null,function*(){if(!this.username||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(this.username.length<3){this.error="Username must be at least 3 characters";return}if(!/^[a-zA-Z0-9_]+$/.test(this.username)){this.error="Username can only contain letters, numbers, and underscores";return}if(this.password.length<6){this.error="Password must be at least 6 characters";return}if(this.password!==this.confirmPassword){this.error="Passwords do not match";return}this.loading=!0,this.error="";let a=yield this.authService.register(this.username,this.password);this.loading=!1,a.success?this.router.navigate(["/"]):this.error=a.error||"Registration failed"})}static \u0275fac=function(m){return new(m||o)(M(I),M(E))};static \u0275cmp=y({type:o,selectors:[["app-register"]],decls:32,vars:9,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],[3,"ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","type","text","name","username","required","","autocomplete","username","placeholder","Letters, numbers, and underscores only",3,"ngModelChange","ngModel","disabled"],["matInput","","type","password","name","password","required","","autocomplete","new-password",3,"ngModelChange","ngModel","disabled"],["matInput","","type","password","name","confirmPassword","required","","autocomplete","new-password",3,"ngModelChange","ngModel","disabled"],[1,"error-message"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20"],[1,"login-link"],["routerLink","/login"]],template:function(m,e){if(m&1){let l=P();t(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title"),r(4,"Register for ListSorter"),i()(),t(5,"mat-card-content")(6,"form",3,0),S("ngSubmit",function(){return d(l),p(e.onSubmit())}),t(8,"mat-form-field",4)(9,"mat-label"),r(10,"Username"),i(),t(11,"input",5),f("ngModelChange",function(n){return d(l),u(e.username,n)||(e.username=n),p(n)}),i(),t(12,"mat-hint"),r(13,"At least 3 characters"),i()(),t(14,"mat-form-field",4)(15,"mat-label"),r(16,"Password"),i(),t(17,"input",6),f("ngModelChange",function(n){return d(l),u(e.password,n)||(e.password=n),p(n)}),i(),t(18,"mat-hint"),r(19,"At least 6 characters"),i()(),t(20,"mat-form-field",4)(21,"mat-label"),r(22,"Confirm Password"),i(),t(23,"input",7),f("ngModelChange",function(n){return d(l),u(e.confirmPassword,n)||(e.confirmPassword=n),p(n)}),i()(),w(24,ne,2,1,"div",8),t(25,"button",9),w(26,re,1,0,"mat-spinner",10)(27,oe,1,0),i()(),t(28,"div",11),r(29," Already have an account? "),t(30,"a",12),r(31,"Login here"),i()()()()()}if(m&2){let l=v(7);s(11),c("ngModel",e.username),g("disabled",e.loading),s(6),c("ngModel",e.password),g("disabled",e.loading),s(6),c("ngModel",e.confirmPassword),g("disabled",e.loading),s(),C(e.error?24:-1),s(),g("disabled",e.loading||!l.valid),s(),C(e.loading?26:27)}},dependencies:[O,B,N,L,T,W,z,A,k,F,V,H,j,D,U,q,K,J,G,Z,X,Q,$,Y,te,ee],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.register-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}mat-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:14px;margin:-8px 0 8px;text-align:center}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:16px;font-size:14px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}button[type=submit][_ngcontent-%COMP%]{margin-top:8px;height:48px;font-size:16px}button[type=submit][_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}"]})};export{ie as RegisterComponent};

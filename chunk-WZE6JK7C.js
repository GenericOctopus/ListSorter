import{a as $,b as ee}from"./chunk-XHSR2Z2V.js";import{H as A,I as B,J as q,M as G,N as H,V as U,Z as J,_ as K,aa as Q,b as I,ba as X,c as N,d as T,e as R,f as W,g as D,k as j,ka as Y,l as z,la as Z}from"./chunk-J3WYVLZQ.js";import{Ba as c,Da as f,Ha as g,Ia as t,Ja as i,Ka as x,Nb as O,Pa as y,Q as d,R as p,Ra as S,Sa as v,Wb as F,Xb as V,Zb as k,_b as E,ab as P,eb as r,fb as L,ha as l,ib as M,jb as C,kb as h,la as u,pa as b}from"./chunk-E3AQNGOK.js";import{f as w}from"./chunk-EQDQRRRY.js";function ne(n,o){if(n&1&&(t(0,"div",7),r(1),i()),n&2){let a=v();l(),L(a.error)}}function ie(n,o){n&1&&x(0,"mat-spinner",9)}function oe(n,o){n&1&&r(0," Login ")}var te=class n{constructor(o,a){this.authService=o;this.router=a}username="";password="";loading=!1;error="";onSubmit(){return w(this,null,function*(){if(!this.username||!this.password){this.error="Please enter both username and password";return}this.loading=!0,this.error="";let o=yield this.authService.login(this.username,this.password);this.loading=!1,o.success?this.router.navigate(["/"]):this.error=o.error||"Login failed"})}static \u0275fac=function(a){return new(a||n)(u(E),u(F))};static \u0275cmp=b({type:n,selectors:[["app-login"]],decls:24,vars:7,consts:[["loginForm","ngForm"],[1,"login-container"],[1,"login-card"],[3,"ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","type","text","name","username","required","","autocomplete","username",3,"ngModelChange","ngModel","disabled"],["matInput","","type","password","name","password","required","","autocomplete","current-password",3,"ngModelChange","ngModel","disabled"],[1,"error-message"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20"],[1,"register-link"],["routerLink","/register"]],template:function(a,e){if(a&1){let s=y();t(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title"),r(4,"Login to ListSorter"),i()(),t(5,"mat-card-content")(6,"form",3,0),S("ngSubmit",function(){return d(s),p(e.onSubmit())}),t(8,"mat-form-field",4)(9,"mat-label"),r(10,"Username"),i(),t(11,"input",5),h("ngModelChange",function(m){return d(s),C(e.username,m)||(e.username=m),p(m)}),i()(),t(12,"mat-form-field",4)(13,"mat-label"),r(14,"Password"),i(),t(15,"input",6),h("ngModelChange",function(m){return d(s),C(e.password,m)||(e.password=m),p(m)}),i()(),c(16,ne,2,1,"div",7),t(17,"button",8),c(18,ie,1,0,"mat-spinner",9)(19,oe,1,0),i()(),t(20,"div",10),r(21," Don't have an account? "),t(22,"a",11),r(23,"Register here"),i()()()()()}if(a&2){let s=P(7);l(11),M("ngModel",e.username),g("disabled",e.loading),l(4),M("ngModel",e.password),g("disabled",e.loading),l(),f(e.error?16:-1),l(),g("disabled",e.loading||!s.valid),l(),f(e.loading?18:19)}},dependencies:[O,z,D,I,N,T,j,W,R,k,V,H,A,q,G,B,K,J,U,X,Q,Z,Y,ee,$],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}mat-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:14px;margin:-8px 0 8px;text-align:center}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:16px;font-size:14px}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}button[type=submit][_ngcontent-%COMP%]{margin-top:8px;height:48px;font-size:16px}button[type=submit][_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}"]})};export{te as LoginComponent};

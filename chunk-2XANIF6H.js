import{a as ee,b as te}from"./chunk-264RZIGB.js";import{N as j,O as z,P as D,S as H,T as G,b as I,ba as J,ca as K,d as N,e as T,f as L,fa as Q,g as k,ga as U,h as A,ia as X,ja as Y,l as B,n as q,ra as Z,sa as $}from"./chunk-YSJ6QNQG.js";import{$ as d,$a as b,Ab as c,Bb as u,Cb as f,Da as y,Ra as w,Ta as C,Ya as g,Za as t,_a as n,aa as p,eb as S,fc as E,g as _,gb as P,ib as x,pc as O,qc as V,sb as v,sc as W,tc as F,ua as a,wb as r,xb as R,ya as M}from"./chunk-PHHO7NXX.js";function ne(o,s){if(o&1&&(t(0,"div",9),r(1),n()),o&2){let l=x();a(),R(l.error)}}function re(o,s){o&1&&b(0,"mat-spinner",11)}function oe(o,s){o&1&&r(0," Register ")}var ie=class o{constructor(s,l){this.authService=s;this.router=l}email="";name="";password="";confirmPassword="";loading=!1;error="";onSubmit(){return _(this,null,function*(){if(!this.email||!this.name||!this.password||!this.confirmPassword){this.error="Please fill in all fields";return}if(this.name.length<2){this.error="Name must be at least 2 characters";return}if(this.password.length<8){this.error="Password must be at least 8 characters";return}if(this.password!==this.confirmPassword){this.error="Passwords do not match";return}this.loading=!0,this.error="";let s=yield this.authService.register(this.email,this.password,this.name);this.loading=!1,s.success?this.router.navigate(["/"]):this.error=s.error||"Registration failed"})}static \u0275fac=function(l){return new(l||o)(M(F),M(O))};static \u0275cmp=y({type:o,selectors:[["app-register"]],decls:36,vars:11,consts:[["registerForm","ngForm"],[1,"register-container"],[1,"register-card"],[3,"ngSubmit"],["appearance","outline",1,"full-width"],["matInput","","type","email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel","disabled"],["matInput","","type","text","name","name","required","","autocomplete","name",3,"ngModelChange","ngModel","disabled"],["matInput","","type","password","name","password","required","","autocomplete","new-password",3,"ngModelChange","ngModel","disabled"],["matInput","","type","password","name","confirmPassword","required","","autocomplete","new-password",3,"ngModelChange","ngModel","disabled"],[1,"error-message"],["mat-raised-button","","color","primary","type","submit",1,"full-width",3,"disabled"],["diameter","20"],[1,"login-link"],["routerLink","/login"]],template:function(l,e){if(l&1){let m=S();t(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title"),r(4,"Register for ListSorter"),n()(),t(5,"mat-card-content")(6,"form",3,0),P("ngSubmit",function(){return d(m),p(e.onSubmit())}),t(8,"mat-form-field",4)(9,"mat-label"),r(10,"Email"),n(),t(11,"input",5),f("ngModelChange",function(i){return d(m),u(e.email,i)||(e.email=i),p(i)}),n()(),t(12,"mat-form-field",4)(13,"mat-label"),r(14,"Name"),n(),t(15,"input",6),f("ngModelChange",function(i){return d(m),u(e.name,i)||(e.name=i),p(i)}),n(),t(16,"mat-hint"),r(17,"At least 2 characters"),n()(),t(18,"mat-form-field",4)(19,"mat-label"),r(20,"Password"),n(),t(21,"input",7),f("ngModelChange",function(i){return d(m),u(e.password,i)||(e.password=i),p(i)}),n(),t(22,"mat-hint"),r(23,"At least 8 characters"),n()(),t(24,"mat-form-field",4)(25,"mat-label"),r(26,"Confirm Password"),n(),t(27,"input",8),f("ngModelChange",function(i){return d(m),u(e.confirmPassword,i)||(e.confirmPassword=i),p(i)}),n()(),w(28,ne,2,1,"div",9),t(29,"button",10),w(30,re,1,0,"mat-spinner",11)(31,oe,1,0),n()(),t(32,"div",12),r(33," Already have an account? "),t(34,"a",13),r(35,"Login here"),n()()()()()}if(l&2){let m=v(7);a(11),c("ngModel",e.email),g("disabled",e.loading),a(4),c("ngModel",e.name),g("disabled",e.loading),a(6),c("ngModel",e.password),g("disabled",e.loading),a(6),c("ngModel",e.confirmPassword),g("disabled",e.loading),a(),C(e.error?28:-1),a(),g("disabled",e.loading||!m.valid),a(),C(e.loading?30:31)}},dependencies:[E,q,A,I,N,T,B,k,L,W,V,G,j,D,H,z,U,Q,J,K,Y,X,$,Z,te,ee],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.register-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:20px}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}mat-card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:500}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{color:#f44336;font-size:14px;margin:-8px 0 8px;text-align:center}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:16px;font-size:14px}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}button[type=submit][_ngcontent-%COMP%]{margin-top:8px;height:48px;font-size:16px}button[type=submit][_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}"]})};export{ie as RegisterComponent};
